<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import java.net.URL?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.demo.MainWindowController" minWidth="900" minHeight="700">
    <fx:define>
        <ToggleGroup fx:id="timeUnitGroup" />
    </fx:define>
    <stylesheets>
        <URL value="@/css/application.css" />
    </stylesheets>
    <top>
        <VBox alignment="CENTER" style="-fx-padding: 15;" styleClass="fade-in">
            <Label text="久坐小管家" styleClass="title-label"/>
            <Label text="健康久坐，定期活动" styleClass="subtitle-label"/>
        </VBox>
    </top>
    
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="15" style="-fx-padding: 20;" styleClass="spacing-medium fade-in">
                <!-- 提醒时间设置 -->
                <TitledPane text="提醒时间设置" expanded="true" styleClass="card">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                            <Label text="提醒间隔：" styleClass="control-label" />
                            <Slider fx:id="intervalSlider" min="10" max="120" value="30" majorTickUnit="10" showTickLabels="true" showTickMarks="true" styleClass="slider" />
                            <Label fx:id="intervalLabel" text="30 分钟" minWidth="80" alignment="CENTER_RIGHT" />
                        </HBox>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                            <Label text="时间单位：" styleClass="control-label" />
                            <RadioButton text="分钟" selected="true" toggleGroup="#{timeUnitGroup}" styleClass="radio-button" />
                            <RadioButton text="小时" toggleGroup="#{timeUnitGroup}" styleClass="radio-button" />
                        </HBox>
                    </VBox>
                </TitledPane>
                
                <!-- 提醒文案设置 -->
                <TitledPane text="提醒文案设置" expanded="true" styleClass="card">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <HBox spacing="10" alignment="TOP_LEFT" styleClass="align-left">
                            <Label text="提醒文案：" styleClass="control-label" />
                            <TextArea fx:id="reminderTextArea" prefHeight="60" prefWidth="400" promptText="请输入提醒文案（200字以内）" wrapText="true" vbarPolicy="ALWAYS" styleClass="text-area" />
                        </HBox>
                        <HBox alignment="CENTER_RIGHT" styleClass="align-right">
                            <Label fx:id="textLengthLabel" text="0/200" styleClass="text-secondary" />
                        </HBox>
                    </VBox>
                </TitledPane>
                
                <!-- 提示音设置 -->
                <TitledPane text="提示音设置" expanded="true" styleClass="card">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                            <Label text="内置提示音：" styleClass="control-label" />
                            <ComboBox fx:id="soundComboBox" prefWidth="150" styleClass="combo-box">
                                <items>
                                    <FXCollections fx:factory="observableArrayList">
                                        <String fx:value="默认提示音" />
                                        <String fx:value="清脆铃声" />
                                        <String fx:value="柔和钟声" />
                                        <String fx:value="轻快音乐" />
                                    </FXCollections>
                                </items>
                            </ComboBox>
                            <Button fx:id="previewSoundButton" text="预览" styleClass="secondary-button" />
                        </HBox>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                            <Label text="自定义提示音：" styleClass="control-label" />
                            <TextField fx:id="customSoundPath" editable="false" prefWidth="250" styleClass="text-field" />
                            <Button fx:id="browseButton" text="浏览..." styleClass="secondary-button" />
                        </HBox>
                    </VBox>
                </TitledPane>
                
                <!-- 全屏提示方式设置 -->
                <TitledPane text="全屏提示方式设置" expanded="true" styleClass="card">
                    <VBox spacing="10" style="-fx-padding: 15;">
                        <Label text="全屏时提示方式（可多选）：" styleClass="control-label" />
                        <VBox spacing="5" style="-fx-padding: 0 0 0 20;">
                            <CheckBox fx:id="popupCheckBox" text="短暂弹窗" selected="true" styleClass="check-box" />
                            <CheckBox fx:id="flashCheckBox" text="屏幕边缘闪烁" selected="true" styleClass="check-box" />
                            <CheckBox fx:id="soundCheckBox" text="轻微声音提示" selected="true" styleClass="check-box" />
                        </VBox>
                        
                        <VBox spacing="5" style="-fx-padding: 10 0 0 20;">
                            <Label text="弹窗持续时间：" styleClass="control-label" />
                            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                                <Slider fx:id="popupDurationSlider" min="3" max="5" value="4" majorTickUnit="1" showTickLabels="true" showTickMarks="true" blockIncrement="1" styleClass="slider" />
                                <Label fx:id="popupDurationLabel" text="4 秒" minWidth="60" alignment="CENTER_RIGHT" />
                            </HBox>
                        </VBox>
                        
                        <VBox spacing="5" style="-fx-padding: 10 0 0 20;">
                            <Label text="闪烁次数：" styleClass="control-label" />
                            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="align-left">
                                <Slider fx:id="flashCountSlider" min="3" max="5" value="4" majorTickUnit="1" showTickLabels="true" showTickMarks="true" blockIncrement="1" styleClass="slider" />
                                <Label fx:id="flashCountLabel" text="4 次" minWidth="60" alignment="CENTER_RIGHT" />
                            </HBox>
                        </VBox>
                        
                        <VBox spacing="5" style="-fx-padding: 10 0 0 20;">
                            <Label text="闪烁边缘（可多选）：" styleClass="control-label" />
                            <HBox spacing="15">
                                <CheckBox fx:id="topEdgeCheckBox" text="顶部" selected="true" styleClass="check-box" />
                                <CheckBox fx:id="bottomEdgeCheckBox" text="底部" styleClass="check-box" />
                                <CheckBox fx:id="leftEdgeCheckBox" text="左侧" styleClass="check-box" />
                                <CheckBox fx:id="rightEdgeCheckBox" text="右侧" styleClass="check-box" />
                            </HBox>
                        </VBox>
                    </VBox>
                </TitledPane>
            </VBox>
        </ScrollPane>
    </center>
    
    <bottom>
        <HBox spacing="10" alignment="CENTER" style="-fx-padding: 15;" styleClass="fade-in">
            <Button fx:id="saveButton" text="保存设置" prefWidth="120" styleClass="default-button" />
            <Button fx:id="startButton" text="开始提醒" prefWidth="120" styleClass="success-button" />
            <Button fx:id="stopButton" text="停止提醒" prefWidth="120" styleClass="accent-button" />
            <Label fx:id="statusLabel" text="就绪" styleClass="status-label" />
        </HBox>
    </bottom>
</BorderPane>